<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    
    <title>2.2. ndarray &#8212; Python 数据科学实战 1.0.0 documentation</title>

    <link rel="stylesheet" href="../_static/material-design-lite-1.3.0/material.blue-deep_orange.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx_materialdesign_theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fontawesome/all.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fonts.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/d2l.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/d2l.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. pandas" href="../ch-pandas/index.html" />
    <link rel="prev" title="2.1. NumPy 简介" href="numpy-intro.html" /> 
  </head>
<body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header mdl-layout--fixed-drawer"><header class="mdl-layout__header mdl-layout__header--waterfall ">
    <div class="mdl-layout__header-row">
        
        <nav class="mdl-navigation breadcrumb">
            <a class="mdl-navigation__link" href="index.html"><span class="section-number">2. </span>NumPy</a><i class="material-icons">navigate_next</i>
            <a class="mdl-navigation__link is-active"><span class="section-number">2.2. </span>ndarray</a>
        </nav>
        <div class="mdl-layout-spacer"></div>
        <nav class="mdl-navigation">
        
<form class="form-inline pull-sm-right" action="../search.html" method="get">
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable mdl-textfield--floating-label mdl-textfield--align-right">
        <label id="quick-search-icon" class="mdl-button mdl-js-button mdl-button--icon"  for="waterfall-exp">
          <i class="material-icons">search</i>
        </label>
        <div class="mdl-textfield__expandable-holder">
          <input class="mdl-textfield__input" type="text" name="q"  id="waterfall-exp" placeholder="Search" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </div>
      </div>
      <div class="mdl-tooltip" data-mdl-for="quick-search-icon">
      Quick search
      </div>
</form>
        
<a id="button-show-source"
    class="mdl-button mdl-js-button mdl-button--icon"
    href="../_sources/ch-numpy/ndarray.rst.txt" rel="nofollow">
  <i class="material-icons">code</i>
</a>
<div class="mdl-tooltip" data-mdl-for="button-show-source">
Show Source
</div>
        </nav>
    </div>
    <div class="mdl-layout__header-row header-links">
      <div class="mdl-layout-spacer"></div>
      <nav class="mdl-navigation">
          
              <a  class="mdl-navigation__link" href="https://github.com/py-101/python-data-science">
                  <i class="fab fa-github"></i>
                  GitHub
              </a>
      </nav>
    </div>
</header><header class="mdl-layout__drawer">
    
          <!-- Title -->
      <span class="mdl-layout-title">
          <a class="title" href="../index.html">
              <span class="title-text">
                  Python 数据科学实战
              </span>
          </a>
      </span>
    
    
      <div class="globaltoc">
        <span class="mdl-layout-title toc">Table Of Contents</span>
        
        
            
            <nav class="mdl-navigation">
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ch-python-lang/index.html">1. Python 编程语言</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../ch-python-lang/outline.html">1.1. 本书主要内容</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">2. NumPy</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="numpy-intro.html">2.1. NumPy 简介</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2.2. ndarray</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ch-pandas/index.html">3. pandas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../ch-pandas/pandas-intro.html">3.1. pandas 简介</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch-pandas/series-dataframe.html">3.2. Series 与 DataFrame</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch-pandas/dataframe-slicing.html">3.3. 数据切片</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch-pandas/data-preprocessing.html">3.4. 数据处理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch-pandas/dataframe-groupby.html">3.5. 分组汇总</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch-pandas/dataframe-merge-concat.html">3.6. 多表操作</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../refs.html">4. 参考文献</a></li>
</ul>

            </nav>
        
        </div>
    
</header>
        <main class="mdl-layout__content" tabIndex="0">

	<script type="text/javascript" src="../_static/sphinx_materialdesign_theme.js "></script>
    <header class="mdl-layout__drawer">
    
          <!-- Title -->
      <span class="mdl-layout-title">
          <a class="title" href="../index.html">
              <span class="title-text">
                  Python 数据科学实战
              </span>
          </a>
      </span>
    
    
      <div class="globaltoc">
        <span class="mdl-layout-title toc">Table Of Contents</span>
        
        
            
            <nav class="mdl-navigation">
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ch-python-lang/index.html">1. Python 编程语言</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../ch-python-lang/outline.html">1.1. 本书主要内容</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">2. NumPy</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="numpy-intro.html">2.1. NumPy 简介</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2.2. ndarray</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ch-pandas/index.html">3. pandas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../ch-pandas/pandas-intro.html">3.1. pandas 简介</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch-pandas/series-dataframe.html">3.2. Series 与 DataFrame</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch-pandas/dataframe-slicing.html">3.3. 数据切片</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch-pandas/data-preprocessing.html">3.4. 数据处理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch-pandas/dataframe-groupby.html">3.5. 分组汇总</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch-pandas/dataframe-merge-concat.html">3.6. 多表操作</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../refs.html">4. 参考文献</a></li>
</ul>

            </nav>
        
        </div>
    
</header>

    <div class="document">
        <div class="page-content" role="main">
        
  <div class="section" id="ndarray">
<h1><span class="section-number">2.2. </span>ndarray<a class="headerlink" href="#ndarray" title="Permalink to this heading">¶</a></h1>
<p>NumPy 最核心的数据结构是多维数组（N-dimensional Array）：
<code class="docutils literal notranslate"><span class="pre">ndarray</span></code>。 <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> 是由同一数据类型的数据组成的数组列表。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
<div class="section" id="id1">
<h2><span class="section-number">2.2.1. </span>创建 ndarray<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">array</span></code> 函数接收来自原生 Python 的各类数据，如列表、元组等，并转化为
<code class="docutils literal notranslate"><span class="pre">ndarray</span></code>；<code class="docutils literal notranslate"><span class="pre">array</span></code> 函数也可以接收一个 NumPy 的
<code class="docutils literal notranslate"><span class="pre">ndarray</span></code>。数组中的数据类型必须是一致的。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 列表 list</span>
<span class="n">ar1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="n">ar1</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 元组 tuple</span>
<span class="n">ar2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">ar2</span>
</pre></div>
</div>
</div>
<div class="section" id="dtype">
<h2><span class="section-number">2.2.2. </span>数据类型：dtype<a class="headerlink" href="#dtype" title="Permalink to this heading">¶</a></h2>
<p>在进一步深入了解各种创建 <code class="docutils literal notranslate"><span class="pre">ndarray</span></code>
的方式之前，我们需要了解一下数据类型的基础知识。计算机无法直接表征数值，其底层基于二进制表示数值，整数和浮点数（其实就是小数，计算机科学中一般称小数为浮点数）基于科学计数法，字符串是一个从整数到字符的映射。
NumPy 提供了不同的数据类型 <code class="docutils literal notranslate"><span class="pre">dtype</span></code>，不同的 <code class="docutils literal notranslate"><span class="pre">dtype</span></code>
所能表示的区间范围不同。比如，同为整数，就有以下几种类型，其所表示的数值区间差异较大。</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>dtype</p></th>
<th class="head"><p>区间</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>np.int8</p></td>
<td><p>-128 ~ 127</p></td>
</tr>
<tr class="row-odd"><td><p>np.int16</p></td>
<td><p>-32768 ~ 32767</p></td>
</tr>
<tr class="row-even"><td><p>np.int32</p></td>
<td><p><span class="math notranslate nohighlight">\(-2.1*10^9 \sim 2.1*10 ^9\)</span></p></td>
</tr>
</tbody>
</table>
<p>NumPy 所支持的数据类型主要有：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">np.bool_</span></code> ：布尔类型</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">np.number</span></code> ：又细分为整数（比如 <code class="docutils literal notranslate"><span class="pre">np.int8</span></code>
等）和浮点类型（<code class="docutils literal notranslate"><span class="pre">np.float32</span></code> 等）。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">np.datetime64</span></code>：表示日期的数据类型</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">np.character</span></code>：字符串类型</p></li>
</ul>
<p>这些数据类型往往都带有一个数字，比如
<code class="docutils literal notranslate"><span class="pre">np.int8</span></code>，数字表示这个数据类型占用了多少个比特（bit）的存储空间。1
个 bit 为一个 0/1 二进制。8 bit = 1 byte，即 8 比特位等于 1 个字节。</p>
<p>根据上表，整数占用的存储空间越大，所能表示的数值范围越大。当我们编写简单的程序时，数值范围一般不会出现问题，但是当我们编写复杂的科学计算程序时，数值范围决定了计算的精度。例如，<code class="docutils literal notranslate"><span class="pre">np.int8</span></code>
只能表示 -128 ~ 127 范围的数值，超过这个数值的数字，如何被 <code class="docutils literal notranslate"><span class="pre">np.int8</span></code>
表示，存在较大不确定性，进而造成程序运行不准确。</p>
<p>占用的 bit
越多，数据越精准，但也会使得对内存消耗越大。选择合适的数据类型有助于节省内存。刚刚接触数据类型的朋友，对于如何选择合适数据类型并不熟悉。大概可以按照如下准则：</p>
<ul class="simple">
<li><p>整数类型默认是 <code class="docutils literal notranslate"><span class="pre">np.int64</span></code>，但很多应用 <code class="docutils literal notranslate"><span class="pre">np.32</span></code> 就足够了。</p></li>
<li><p>浮点数类型一般科学计算应用都使用 <code class="docutils literal notranslate"><span class="pre">np.float64</span></code>，深度学习类应用使用
<code class="docutils literal notranslate"><span class="pre">np.float32</span></code> 或者甚至更小的数据类型也足够了。</p></li>
</ul>
</div>
<div class="section" id="id2">
<h2><span class="section-number">2.2.3. </span>创建特定的 ndarray<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h2>
<div class="section" id="arange-linspace">
<h3><span class="section-number">2.2.3.1. </span>arange() 与 linspace()<a class="headerlink" href="#arange-linspace" title="Permalink to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">arange</span></code> 和 <code class="docutils literal notranslate"><span class="pre">linspace</span></code> 函数可用于生成一个数值数组。数值从区间为
<span class="math notranslate nohighlight">\([start,stop)\)</span> 中选择，一般从 <code class="docutils literal notranslate"><span class="pre">start</span></code> 开始，到 <code class="docutils literal notranslate"><span class="pre">stop</span></code>
结束，在这个区间内生成一系列值。</p>
<p><code class="docutils literal notranslate"><span class="pre">arange</span></code> 函数的常见形式：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">arange(stop)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">arange(start,</span> <span class="pre">stop)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">arange(start,</span> <span class="pre">stop,</span> <span class="pre">step)</span></code></p></li>
</ul>
<p>其中，<code class="docutils literal notranslate"><span class="pre">step</span></code> 用于指定数值之间的间隔，默认为 1。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 以下两种方式等效</span>
<span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">stop</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">linspace</span></code> 函数生成 <code class="docutils literal notranslate"><span class="pre">num</span></code> 个均匀间隔的数值，也就是创建一个等差数列。</p>
<p>常见形式：<code class="docutils literal notranslate"><span class="pre">linspace(start,</span> <span class="pre">stop,</span> <span class="pre">num)</span></code>。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 生成在 1 和 5 之间 5 个均匀间隔的数组</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="n">a</span>
</pre></div>
</div>
</div>
<div class="section" id="ones-ones-like">
<h3><span class="section-number">2.2.3.2. </span>ones() 与 ones_like()<a class="headerlink" href="#ones-ones-like" title="Permalink to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">np.ones(shape)</span></code> 生成 <code class="docutils literal notranslate"><span class="pre">shape</span></code> 大小的、全为 1 数组。例如，生成
<span class="math notranslate nohighlight">\(3 \times 3 \times 6\)</span> 的高维数组。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
</pre></div>
</div>
<p>如果已经有一个多维数组 <code class="docutils literal notranslate"><span class="pre">a</span></code>，我们想根据这个数组 <code class="docutils literal notranslate"><span class="pre">a</span></code>
的形状生成一个全为 1 的数组：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="zeros-zeros-like">
<h3><span class="section-number">2.2.3.3. </span>zeros() 与 zeros_like()<a class="headerlink" href="#zeros-zeros-like" title="Permalink to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">np.zeros()</span></code> 与 <code class="docutils literal notranslate"><span class="pre">np.ones()</span></code> 类似。<code class="docutils literal notranslate"><span class="pre">np.zeros(shape)</span></code> 生成
<code class="docutils literal notranslate"><span class="pre">shape</span></code> 大小的、全为 0 的数组。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
<p>如果已经有一个多维数组 <code class="docutils literal notranslate"><span class="pre">a</span></code>，我们想根据这个数组 <code class="docutils literal notranslate"><span class="pre">a</span></code>
的形状生成一个全为 0 的数组：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="full-full-like">
<h3><span class="section-number">2.2.3.4. </span>full() 与 full_like()<a class="headerlink" href="#full-full-like" title="Permalink to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">np.full(shape,val)</span></code> 生成 <code class="docutils literal notranslate"><span class="pre">shape</span></code> 大小的、全为 <code class="docutils literal notranslate"><span class="pre">val</span></code>
的数组，即数组中每个元素值都是 <code class="docutils literal notranslate"><span class="pre">val</span></code>。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
<p>根据数组 <code class="docutils literal notranslate"><span class="pre">a</span></code> 的形状生成一个数组，元素值全为 <code class="docutils literal notranslate"><span class="pre">val</span></code>：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">full_like</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="eye">
<h3><span class="section-number">2.2.3.5. </span>eye()<a class="headerlink" href="#eye" title="Permalink to this heading">¶</a></h3>
<p>np.eye(n) 创建一个 <span class="math notranslate nohighlight">\(n \times n\)</span> 单位矩阵，对角线为 1，其余为 0。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id3">
<h2><span class="section-number">2.2.4. </span>常用属性<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h2>
<p>直接打印一个 <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> 可以看到它的值、<code class="docutils literal notranslate"><span class="pre">dtype</span></code> 等属性。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ar</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,],</span>
               <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span>
               <span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">]])</span>
<span class="n">ar</span>
</pre></div>
</div>
<p>或者打印某些具体的属性。</p>
<ul class="simple">
<li><p>ndim：多维数组的秩，或者说轴的数量，或者说数组有多少维度</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ar</span><span class="o">.</span><span class="n">ndim</span>
</pre></div>
</div>
<ul class="simple">
<li><p>数组的尺度</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ar</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
<ul class="simple">
<li><p>数组中元素的个数</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ar</span><span class="o">.</span><span class="n">size</span>
</pre></div>
</div>
<ul class="simple">
<li><p>元素的数据类型</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ar</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>
</div>
<ul class="simple">
<li><p>每个元素的大小，以字节（Byte）为单位</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ar</span><span class="o">.</span><span class="n">itemsize</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h2><span class="section-number">2.2.5. </span>数组维度变换<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h2>
<p>另外，我们经常要对数据进行一些变换。</p>
<div class="section" id="id5">
<h3><span class="section-number">2.2.5.1. </span>不改变原数组<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">reshape()</span></code> 函数</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">reshape(shape)</span></code> 函数，不改变数组的元素，根据 <code class="docutils literal notranslate"><span class="pre">shape</span></code>
形状，生成一个新的数组。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ar</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">flatten()</span></code> 函数</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">flatten()</span></code> 函数，对数组进行降维，将高维数组压缩成一个一维数组。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ar</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h3><span class="section-number">2.2.5.2. </span>改变原数组<a class="headerlink" href="#id6" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">resize()</span></code> 函数</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">resize(shape)</span></code> 函数，返回一个 <code class="docutils literal notranslate"><span class="pre">shape</span></code> 形状的数组，功能与
<code class="docutils literal notranslate"><span class="pre">reshape()</span></code> 函数一致，但是修改原数组。</p>
<p>提示：当新数组可容纳数据少于原数据，按照原数据选择前 <code class="docutils literal notranslate"><span class="pre">shape</span></code>
个数据；如果多于，则新数组会按照原数组中的数据顺序进行填补。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ar_new</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">ar</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">ar_new</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ar_new</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">ar</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">ar_new</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id7">
<h2><span class="section-number">2.2.6. </span>数据类型变换<a class="headerlink" href="#id7" title="Permalink to this heading">¶</a></h2>
<div class="section" id="astype">
<h3><span class="section-number">2.2.6.1. </span>astype()<a class="headerlink" href="#astype" title="Permalink to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">astype(new_type)</span></code>
函数，对数组的数据类型进行类型变化，基于对原始数据的拷贝创建一个新的数组。比如，将
<code class="docutils literal notranslate"><span class="pre">np.int</span></code> 类型元素修改为 <code class="docutils literal notranslate"><span class="pre">np.float64</span></code> 类型：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">new_ar</span> <span class="o">=</span> <span class="n">ar</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
<span class="n">new_ar</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id8">
<h2><span class="section-number">2.2.7. </span>合并函数<a class="headerlink" href="#id8" title="Permalink to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">np.concatenate()</span></code> 将两个或者多个数组合并成一个新数组。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">))</span> <span class="c1">#将 a,b 两个数组合并成为 c</span>
<span class="n">c</span>
</pre></div>
</div>
</div>
<div class="section" id="ndarray-python">
<h2><span class="section-number">2.2.8. </span>ndarray 与 Python 列表的转换<a class="headerlink" href="#ndarray-python" title="Permalink to this heading">¶</a></h2>
<p>列表作为 Python 中原始的数据类型，运算速度慢于 NumPy。如果需要与原生
Python 语言相适配，需做转换：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ar</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


        </div>
        <div class="side-doc-outline">
            <div class="side-doc-outline--content"> 
<div class="localtoc">
    <p class="caption">
      <span class="caption-text">Table Of Contents</span>
    </p>
    <ul>
<li><a class="reference internal" href="#">2.2. ndarray</a><ul>
<li><a class="reference internal" href="#id1">2.2.1. 创建 ndarray</a></li>
<li><a class="reference internal" href="#dtype">2.2.2. 数据类型：dtype</a></li>
<li><a class="reference internal" href="#id2">2.2.3. 创建特定的 ndarray</a><ul>
<li><a class="reference internal" href="#arange-linspace">2.2.3.1. arange() 与 linspace()</a></li>
<li><a class="reference internal" href="#ones-ones-like">2.2.3.2. ones() 与 ones_like()</a></li>
<li><a class="reference internal" href="#zeros-zeros-like">2.2.3.3. zeros() 与 zeros_like()</a></li>
<li><a class="reference internal" href="#full-full-like">2.2.3.4. full() 与 full_like()</a></li>
<li><a class="reference internal" href="#eye">2.2.3.5. eye()</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3">2.2.4. 常用属性</a></li>
<li><a class="reference internal" href="#id4">2.2.5. 数组维度变换</a><ul>
<li><a class="reference internal" href="#id5">2.2.5.1. 不改变原数组</a></li>
<li><a class="reference internal" href="#id6">2.2.5.2. 改变原数组</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id7">2.2.6. 数据类型变换</a><ul>
<li><a class="reference internal" href="#astype">2.2.6.1. astype()</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id8">2.2.7. 合并函数</a></li>
<li><a class="reference internal" href="#ndarray-python">2.2.8. ndarray 与 Python 列表的转换</a></li>
</ul>
</li>
</ul>

</div>
            </div>
        </div>

      <div class="clearer"></div>
    </div><div class="pagenation">
     <a id="button-prev" href="numpy-intro.html" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--colored" role="botton" accesskey="P">
         <i class="pagenation-arrow-L fas fa-arrow-left fa-lg"></i>
         <div class="pagenation-text">
            <span class="pagenation-direction">Previous</span>
            <div>2.1. NumPy 简介</div>
         </div>
     </a>
     <a id="button-next" href="../ch-pandas/index.html" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--colored" role="botton" accesskey="N">
         <i class="pagenation-arrow-R fas fa-arrow-right fa-lg"></i>
        <div class="pagenation-text">
            <span class="pagenation-direction">Next</span>
            <div>3. pandas</div>
        </div>
     </a>
  </div>
        
        </main>
    </div>
  </body>
</html>